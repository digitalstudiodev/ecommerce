{% extends 'core/base.html' %}
{% load static %}
{% block content %}
<main class="mt-5 pt-5">
    {% if messages %}
    <div class="container py-5">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" style="border-radius: 2rem;">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <section>
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="list-group my-4 shadow">
                        <a href="{% url 'core:last-chance' %}" class="list-group-item text-dark">On Sale</a>
                        <a href="{% url 'core:limited' %}" class="list-group-item text-dark">Limited</a>
                        <a href="{% url 'core:extreme-sale' %}" class="list-group-item text-dark">Extreme Sale</a>
                    </div>
                </div>
                <!-- /.col-lg-3 -->
                <div class="col-lg-9">
                    <div id="carouselExampleIndicators" class="carousel slide my-4" data-ride="carousel">
                        <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                        </ol>
                        <div class="carousel-inner" role="listbox">
                        <div class="carousel-item active">
                            <img class="d-block img-fluid rounded shadow" src="{% static 'img/product_one.jpg' %}" height="300px" width="900px" alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block img-fluid rounded shadow" src="{% static 'img/product_two.jpg' %}" height="300px" width="900px" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block img-fluid rounded shadow" src="{% static 'img/product_three.jpg' %}" height="300px" width="900px" alt="Third slide">
                        </div>
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--items-->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path fill="#ffd700" fill-opacity="1" d="M0,192L48,181.3C96,171,192,149,288,144C384,139,480,149,576,133.3C672,117,768,75,864,69.3C960,64,1056,96,1152,117.3C1248,139,1344,149,1392,154.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
    </svg>
    <section class="py-5" style="background-color: #ffd700;">
        <div class="container py-5">
            <div class="row wow fadeIn">
            {% for item in object_list %}
            {% if item.category == '2' %}
            <div class="col-lg-3 col-sm-6 mb-4">
                <div class="card h-100">
                  <a href="{{ item.get_absolute_url }}"><img class="card-img-top" src="{{ item.image.url }}" alt="Product Image"></a>
                  <div class="card-body text-center">
                    <a href="{{ item.get_absolute_url }}" class="grey-text">
                      <h5>{{ item.get_category_display }}</h5>
                    </a>
                    <h5>
                        <strong>
                                    <a href="{{ item.get_absolute_url }}" class="dark-grey-text">{{ item.title }}
                                        {% if item.inventory == 0 %}
                                            <span class="badge badge-pill {{ item.get_label_display }}-color">Sold Out</span>
                                        {% elif item.discount_price %}
                                            <span class="badge badge-pill {{ item.get_label_display }}-color">On Sale</span>
                                        {% endif %}
                                    </a>
                        </strong>
                    </h5>
                    <h4 class="font-weight-bold blue-text">
                                <strong>$ 
                                    {% if item.discount_price  %}
                                        {{ item.discount_price }} <strike style="font-size: small;">{{ item.price }}</strike>
                                    {% else %}
                                        {{ item.price }}
                                    {% endif %}
                                </strong>
                    </h4>
                  </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        </div>
    </section>

    <!--pagination-->
    {% if is_paginated %}
    <section>
        <div class="container">
            <nav class="d-flex justify-content-center wow fadeIn">
                <ul class="pagination pg-blue">
                    {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page.obj.previous_page_number }}" aria-label="Previous">
                            Previous
                            <span aria-hidden="true">&laquo;</span>
                            <span class="sr-only">Previous</span>
                        </a>
                    </li>
                    {% endif %}
                    <li class="page-item active">
                        <a class="page-link" href="?page={{ page_obj.number }}">{{ page_obj.number }}
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
                        Next
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </section>
    {% endif %}
</main>
{% endblock content %}